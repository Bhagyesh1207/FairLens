<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Resume Analyzer</title>
</head>
<body class="bg-gray-900 text-white">
    <div class="relative isolate overflow-hidden">
        <div class="mx-auto max-w-7xl px-6 pb-24 pt-10 sm:pb-32 lg:flex lg:px-8 lg:py-40">
            <div class="mx-auto max-w-2xl flex-shrink-0 lg:mx-0 lg:max-w-xl lg:pt-8">
                <img class="h-11" src="https://res.cloudinary.com/dtsuvx8dz/image/upload/v1706986565/hqatxpsjdg3zeql20jfe.png" alt="Company Logo">
                <h1 class="mt-10 text-4xl font-bold tracking-tight sm:text-5xl">Revolutionize Your Recruitment with Next-Gen Resume Parsing</h1>
                <p class="mt-6 text-lg leading-8 text-gray-300">Unlock the potential of every application with our advanced resume parser, designed to enhance the speed and accuracy of your hiring decisions.</p>
                <div class="mt-10 bg-gray-800 p-6 rounded-lg shadow-lg">
                    <form action="{{ url_for('resume_analyzer.resume_analyzer') }}" method="post" enctype="multipart/form-data" class="space-y-4">
                        <label for="job_id" class="block text-sm font-medium">Select Job:</label>
                        <select name="job_id" required class="w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white">
                            {% for job in jobs %}
                            <option value="{{ job.job_id }}">{{ job.job_name }}</option>
                            {% endfor %}
                        </select>
                        
                        <label for="resume" class="block text-sm font-medium">Upload Resumes (PDF/DOCX):</label>
                        <input type="file" name="resume" multiple required class="w-full p-2 bg-gray-700 border border-gray-600 rounded-md text-white">
                        
                        <button type="submit" class="w-full bg-blue-600 hover:bg-blue-500 text-white font-bold py-2 px-4 rounded-md transition">Analyze</button>
                    </form>
                </div>
            </div>
            <div class="mx-auto mt-16 flex max-w-2xl sm:mt-24 lg:ml-10 lg:mr-0 lg:mt-40 lg:max-w-none lg:flex-none xl:ml-32">
                <div class="max-w-3xl flex-none sm:max-w-5xl lg:max-w-none">
                    <img src="https://res.cloudinary.com/dtsuvx8dz/image/upload/v1716357077/o1imiun4wwcpia9uucgs.gif" alt="App screenshot" width="2432" height="1442" class="w-[15rem] rounded-md shadow-2xl">
                </div>
            </div>
        </div>
        <div class="w-screen h-full pb-8">
            <div class="flex flex-col justify-center items-center">
                <div id="dictionaryValues" class="border border-white max-w-7xl p-8 rounded-lg bg-gray-800"></div>
                {% if analysis %}
                <script>
                    function displayAnalysis(analysis) {
                        var dictionaryValuesDiv = document.getElementById("dictionaryValues");
                        var html = generateHTML(analysis);
                        dictionaryValuesDiv.innerHTML = html;
                    }
                    function generateHTML(analysis) {
                        return `<h2 class='text-xl font-bold'>Resume Analysis</h2>
                                <p class='mt-4'>${analysis}</p>`;
                    }
                    displayAnalysis({ analysis , tojson });
                </script>
                {% endif %}
            </div>
        </div>
    </div>
</body>
</html>
